---
layout: layout.njk
title: Markup & Margin Calculator
description: Understand the difference between markup and margin, calculate both ways instantly
permalink: /calculators/markup-margin/
---

<div class="mb-8">
  <h1 class="text-4xl font-bold text-gray-900 mb-4">Markup & Margin Calculator</h1>
  <p class="text-lg text-gray-600">
    Calculate markup and margin, understand the difference, and price with confidence.
  </p>
</div>

<!-- Explanation Section -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
  <div class="card bg-purple-50 border-purple-200">
    <h3 class="text-xl font-bold mb-3">ðŸ“Š What is Markup?</h3>
    <p class="text-gray-700 mb-3">Markup is the percentage added to your COST to determine selling price.</p>
    <div class="bg-white p-3 rounded-lg text-sm">
      <p class="font-mono">Markup = (Price - Cost) / Cost Ã— 100</p>
      <p class="text-gray-600 mt-2">Example: Cost RM50 + 50% markup = RM75 price</p>
    </div>
  </div>
  
  <div class="card bg-blue-50 border-blue-200">
    <h3 class="text-xl font-bold mb-3">ðŸ“ˆ What is Margin?</h3>
    <p class="text-gray-700 mb-3">Margin is the percentage of SELLING PRICE that is profit.</p>
    <div class="bg-white p-3 rounded-lg text-sm">
      <p class="font-mono">Margin = (Price - Cost) / Price Ã— 100</p>
      <p class="text-gray-600 mt-2">Example: RM100 price - RM60 cost = 40% margin</p>
    </div>
  </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
  <div>
    <div class="card sticky top-8">
      <h2 class="text-2xl font-bold mb-6">Calculator</h2>
      
      <form id="margin-form" class="space-y-5">
        <div class="input-group">
          <label for="productCost">Product Cost (RM) *</label>
          <input type="number" id="productCost" name="productCost" step="0.01" min="0" required>
        </div>
        
        <div class="input-group">
          <label for="sellingPrice">Selling Price (RM) *</label>
          <input type="number" id="sellingPrice" name="sellingPrice" step="0.01" min="0" required>
        </div>
        
        <button type="submit" class="btn-primary w-full">Calculate</button>
      </form>
      
      <div class="mt-8 pt-8 border-t border-gray-200">
        <h3 class="font-bold mb-4">Or Calculate Price From:</h3>
        
        <form id="from-markup-form" class="space-y-4 mb-6">
          <div class="input-group">
            <label for="costForMarkup">Cost (RM)</label>
            <input type="number" id="costForMarkup" step="0.01" min="0">
          </div>
          <div class="input-group">
            <label for="targetMarkup">Desired Markup (%)</label>
            <input type="number" id="targetMarkup" step="0.1" min="0">
          </div>
          <button type="submit" class="btn-secondary w-full">Calculate from Markup</button>
        </form>
        
        <form id="from-margin-form" class="space-y-4">
          <div class="input-group">
            <label for="costForMargin">Cost (RM)</label>
            <input type="number" id="costForMargin" step="0.01" min="0">
          </div>
          <div class="input-group">
            <label for="targetMargin">Desired Margin (%)</label>
            <input type="number" id="targetMargin" step="0.1" min="0" max="99.9">
          </div>
          <button type="submit" class="btn-secondary w-full">Calculate from Margin</button>
        </form>
      </div>
    </div>
  </div>
  
  <div id="results" class="space-y-6">
    <div class="card bg-gray-50 border-dashed border-2 border-gray-300 text-center py-12">
      <p class="text-gray-500">Enter cost and price to see markup & margin</p>
    </div>
  </div>
</div>

<script type="module">
  import { CostBuilder } from '{{ '/assets/js/costBuilder.js' | url }}';
  import { MarginCalculator } from '{{ '/assets/js/margin.js' | url }}';
  import { formatCurrency, formatPercent } from '{{ '/assets/js/ui.js' | url }}';

  document.getElementById('margin-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    const values = Object.fromEntries(formData);
    
    const costBuilder = new CostBuilder(values);
    const marginCalc = new MarginCalculator(costBuilder);
    const analysis = marginCalc.getAnalysis();
    
    displayMainResults(analysis);
  });

  document.getElementById('from-markup-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const cost = parseFloat(document.getElementById('costForMarkup').value);
    const markup = parseFloat(document.getElementById('targetMarkup').value);
    
    if (isNaN(cost) || isNaN(markup)) {
      alert('Please enter valid numbers');
      return;
    }
    
    const price = cost * (1 + markup / 100);
    const margin = ((price - cost) / price) * 100;
    
    displayCalculatedPrice(price, cost, markup, margin, 'markup');
  });

  document.getElementById('from-margin-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const cost = parseFloat(document.getElementById('costForMargin').value);
    const margin = parseFloat(document.getElementById('targetMargin').value);
    
    if (isNaN(cost) || isNaN(margin)) {
      alert('Please enter valid numbers');
      return;
    }
    
    if (margin >= 100) {
      alert('Margin must be less than 100%');
      return;
    }
    
    const price = cost / (1 - margin / 100);
    const markup = ((price - cost) / cost) * 100;
    
    displayCalculatedPrice(price, cost, markup, margin, 'margin');
  });

  function displayMainResults(analysis) {
    const html = `
      <div class="card-result">
        <h3 class="text-lg font-bold mb-4">Your Numbers</h3>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span>Cost:</span>
            <span class="font-semibold">${formatCurrency(analysis.trueCost)}</span>
          </div>
          <div class="flex justify-between">
            <span>Selling Price:</span>
            <span class="font-semibold">${formatCurrency(analysis.sellingPrice)}</span>
          </div>
          <div class="flex justify-between">
            <span>Profit:</span>
            <span class="font-bold ${analysis.isProfitable ? 'text-green-600' : 'text-red-600'}">
              ${formatCurrency(analysis.contribution)}
            </span>
          </div>
        </div>
      </div>
      
      <div class="card-result bg-gradient-to-br from-purple-50 to-pink-50">
        <h3 class="text-sm text-gray-600 mb-2">Markup %</h3>
        <p class="text-5xl font-bold text-purple-600 mb-2">${formatPercent(analysis.markup)}</p>
        <p class="text-sm text-gray-600">Based on cost</p>
      </div>
      
      <div class="card-result bg-gradient-to-br from-blue-50 to-cyan-50">
        <h3 class="text-sm text-gray-600 mb-2">Gross Margin %</h3>
        <p class="text-5xl font-bold text-blue-600 mb-2">${formatPercent(analysis.margin)}</p>
        <p class="text-sm text-gray-600">Based on selling price</p>
      </div>
      
      <div class="card bg-amber-50 border-amber-200">
        <h3 class="font-bold mb-3">ðŸ”‘ Key Insight</h3>
        <p class="text-sm text-gray-700">
          For the same price point, margin is always LOWER than markup because:
        </p>
        <ul class="text-sm mt-2 space-y-1 text-gray-700">
          <li>â€¢ Markup uses cost as the base (smaller number)</li>
          <li>â€¢ Margin uses price as the base (larger number)</li>
        </ul>
        <div class="mt-3 p-3 bg-white rounded-lg text-sm">
          <p class="font-semibold">Your ${formatPercent(analysis.markup)} markup equals ${formatPercent(analysis.margin)} margin</p>
        </div>
      </div>
    `;
    
    document.getElementById('results').innerHTML = html;
  }

  function displayCalculatedPrice(price, cost, markup, margin, method) {
    const html = `
      <div class="card-result bg-gradient-to-br from-green-50 to-emerald-50">
        <h3 class="text-sm text-gray-600 mb-2">Calculated Selling Price</h3>
        <p class="text-5xl font-bold text-green-600">${formatCurrency(price)}</p>
        <p class="text-sm text-gray-600 mt-2">From ${method === 'markup' ? 'markup' : 'margin'} calculation</p>
      </div>
      
      <div class="card-result">
        <h3 class="text-lg font-bold mb-4">Breakdown</h3>
        <div class="space-y-3">
          <div class="flex justify-between text-sm">
            <span>Cost:</span>
            <span class="font-semibold">${formatCurrency(cost)}</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Selling Price:</span>
            <span class="font-semibold">${formatCurrency(price)}</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Profit:</span>
            <span class="font-bold text-green-600">${formatCurrency(price - cost)}</span>
          </div>
          <div class="border-t pt-3 mt-3">
            <div class="flex justify-between">
              <span>Markup %:</span>
              <span class="font-bold">${formatPercent(markup)}</span>
            </div>
            <div class="flex justify-between mt-2">
              <span>Margin %:</span>
              <span class="font-bold">${formatPercent(margin)}</span>
            </div>
          </div>
        </div>
      </div>
    `;
    
    document.getElementById('results').innerHTML = html;
  }
</script>
